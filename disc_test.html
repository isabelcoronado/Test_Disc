<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Test DISC - Evaluaci√≥n</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      --rojo: #e63946;
      --amarillo: #ffbe0b;
      --verde: #06d6a0;
      --azul: #118ab2;
      --gris-fondo: #f7f8fa;
      --gris-texto: #333;
      --blanco: #fff;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background: var(--gris-fondo);
      margin: 0;
      color: var(--gris-texto);
    }

    .navbar {
      background: var(--azul);
      color: white;
      padding: 15px;
      font-size: 24px;
      text-align: center;
      font-weight: bold;
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
    }

    .container {
      max-width: 900px;
      margin: 40px auto;
      background: var(--blanco);
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      animation: fadeIn 0.8s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h2 {
      text-align: center;
      color: var(--azul);
      margin-bottom: 25px;
    }

    .instrucciones {
      background: #f1f9ff;
      border-left: 5px solid var(--azul);
      padding: 15px 20px;
      margin-bottom: 25px;
      border-radius: 8px;
      font-size: 0.95em;
      color: #333;
    }

    .instrucciones ul {
      margin: 10px 0 0 20px;
      padding: 0;
    }

    .instrucciones li {
      margin: 5px 0;
    }

    .grupo {
      border: 1px solid #ddd;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    .grupo:hover {
      box-shadow: 0 0 10px rgba(17, 138, 178, 0.2);
    }

    .grupo h3 {
      font-size: 1.1em;
      color: var(--azul);
      margin-bottom: 10px;
    }

    .opcion {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6px 0;
      gap: 10px;
    }

    .opcion label {
      flex-grow: 1;
    }

    .opcion input {
      width: 60px;
      padding: 5px;
      border: 1px solid #ccc;
      border-radius: 6px;
      text-align: center;
      font-weight: bold;
      font-size: 1em;
    }

    .boton-enviar {
      display: block;
      width: 100%;
      padding: 12px;
      background: var(--amarillo);
      border: none;
      font-size: 1.1em;
      font-weight: bold;
      color: #333;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 25px;
      transition: all 0.3s ease;
    }

    .boton-enviar:hover {
      background: #ffb703;
      transform: scale(1.03);
    }

    .boton-enviar:active {
      transform: scale(0.97);
    }
  </style>
</head>
<body>

  <div class="navbar">Test DISC ‚Äì Evaluaci√≥n</div>

  <div class="container">
    <h2>Test DISC - Evaluaci√≥n</h2>

    <div class="instrucciones">
      <h3>Instrucciones:</h3>
      <p>
        A continuaci√≥n ver√°s <strong>14 grupos de frases</strong>.  
        Cada grupo contiene 4 frases, y deber√°s asignarles los n√∫meros del <strong>1 al 4</strong> seg√∫n tu afinidad personal.  
        Solo puedes usar cada n√∫mero una vez por grupo.
      </p>
      <ul>
        <li><strong>1</strong> = Te representa m√°s</li>
        <li><strong>2</strong> = Te representa bastante</li>
        <li><strong>3</strong> = Te representa poco</li>
        <li><strong>4</strong> = Te representa menos</li>
      </ul>
    </div>

    <form id="discForm"></form>

    <button class="boton-enviar" type="button" onclick="enviarRespuestas()">Ver Resultados</button>
  </div>

  <script>
    // üîπ EJEMPLO DE PREGUNTAS (puedes reemplazarlas con tus 14 grupos reales)
    const grupos = [
      [
        "Me gusta tomar el mando",
        "Me gusta ser el alma del grupo",
        "Me gusta mantener la calma",
        "Me gusta seguir las reglas"
      ],
      [
        "Soy competitivo y decidido",
        "Disfruto socializar y animar a otros",
        "Prefiero ambientes tranquilos",
        "Sigo los procedimientos al pie de la letra"
      ]
      // Agrega los 12 grupos restantes aqu√≠...
    ];

    const form = document.getElementById('discForm');

    grupos.forEach((opciones, index) => {
      const grupoDiv = document.createElement('div');
      grupoDiv.className = 'grupo';
      grupoDiv.innerHTML = `<h3>Grupo ${index + 1} de ${grupos.length}</h3>`;

      opciones.forEach((texto, i) => {
        const opcion = document.createElement('div');
        opcion.className = 'opcion';
        opcion.innerHTML = `
          <label>${texto}</label>
          <input type="number" min="1" max="4" step="1" required />
        `;
        grupoDiv.appendChild(opcion);
      });

      form.appendChild(grupoDiv);
    });

    // üîπ Validar que no se repitan valores dentro de un grupo
    form.addEventListener('input', (e) => {
      if (e.target.type === 'number') {
        const grupoDiv = e.target.closest('.grupo');
        const inputs = grupoDiv.querySelectorAll('input[type="number"]');
        const valores = Array.from(inputs).map(i => i.value).filter(v => v !== '');
        const repetidos = valores.filter((v, i, a) => a.indexOf(v) !== i);
        if (repetidos.length > 0) {
          alert('‚ö†Ô∏è No puedes repetir el mismo n√∫mero dentro de este grupo.');
          e.target.value = '';
        }
      }
    });

    // üîπ Guardar resultados en localStorage
    function enviarRespuestas() {
      const resultados = [];

      document.querySelectorAll('.grupo').forEach((grupoDiv, index) => {
        const valores = Array.from(grupoDiv.querySelectorAll('input')).map(i => Number(i.value));
        if (valores.includes(0) || valores.includes(NaN) || valores.length < 4) {
          alert(`‚ö†Ô∏è Debes completar todos los valores del grupo ${index + 1}.`);
          throw new Error('Grupo incompleto');
        }
        resultados.push(valores);
      });

      localStorage.setItem('respuestasDISC', JSON.stringify(resultados));
      alert("‚úÖ Tus respuestas fueron guardadas. Se mostrar√°n los resultados.");
      window.location.href = "results_disc.html";
    }
  </script>
</body>
</html>
